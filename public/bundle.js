!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports={init:function(){!function(t){r.dropWidth=t}(120),function(t){r.dropHeight=t}(120),$("body").on("mouseover",".dropzone",function(t){$(t.currentTarget).addClass("hoverover")}).on("mouseout",".dropzone",function(t){$(t.currentTarget).removeClass("hoverover")})},getDropDimensions:function(){return r},getElArr:function(){return n},getGridCoordinates:function(){return o}};var n=[],r={dropHeight:0,dropWidth:0},o={initXCoord:0,initYCoord:0,initRowSize:0,initColSize:11}},function(t,e,n){var r=n(0),o=n(2),a=n(3),i=n(6);$(function(){r.init(),i.disableTextWrapper(),i.enableTextWrapper();var t=r.getDropDimensions();o.startGrid(),o.initDzArr(),o.addXDZ(),o.addYDZ(),o.deleteXDZ(),o.deleteYDZ(),o.deleteEls(),a.init(t.dropHeight,t.dropWidth,r.getElArr()),interact(".draggable").draggable({snap:{relativePoints:[{x:.5,y:.5}],endOnly:!0},restrict:{restriction:"parent",elementRect:{top:0,left:0,bottom:1,right:1},endOnly:!0},inertia:!1}).on("dragmove",function(t){a.dragMove(t)}).on("mousedown mouseup",function(t){a.toggleSelection(t)}).on("dragend",function(t){a.updateDragEndStates(t)}).on("mouseover",function(t){a.elMouseOver(t),a.elMouseOverMenu(t)}).on("mouseout",function(t){a.removeAnchor(t),a.elMouseOutMenu(t)}),interact(".dropzone").dropzone({overlap:.1,ondragenter:function(t){var e=interact.getElementRect(t.target),n={x:e.left+e.width/2,y:e.top+e.height/2};t.draggable.draggable({snap:{targets:[n]}}),o.DZHighlight(t)},ondrop:function(t){o.onDropUpdatePos(t),o.stopDZHighlight(t)},ondragleave:function(t){o.onLeaveUpdatePos(t),t.draggable.draggable({snap:!1}),o.stopDZHighlight(t)}}).on("click",function(t){})})},function(t,e,n){n(0);function r(t,e){$("#object_container").append('<div class="dropzone first" data-xCoordDZ='+t+" data-yCoordDZ="+e+">"),$(".dropzone[data-xCoordDZ="+t+"][data-yCoordDZ="+e+"]").css({left:$(".dropzone.first").width()*t,top:$(".dropzone.first").height()*e,position:"absolute"})}function o(t,e){$(".dropzone[data-xCoordDZ="+t+"][data-yCoordDZ="+e+"]").remove()}function a(t,e){var n=$(".dropzone.first").width()*(t+1),r=$(".dropzone.first").height()*(e+1);$("#object_container").css({width:n,height:r}),$("#object_container_overlay").css({width:n,height:r})}var s=0,c=0,l=11,d=3,u=new Array(12),f=0,g={initXCoord:0,initYCoord:0,initRowSize:3,initColSize:11};t.exports={startGrid:function(){for(c=0;c<=3;c++)for(r(0,c),s=1;s<=11;s++)r(s,c);a(11,3)},initDzArr:function(){for(i=0;i<12;i++)u[i]=new Array(4)},addXDZ:function(){$(".button_horizontal").click(function(){if(l++,0!=d){var t=0;for(t=0;t<=d;t++)r(l,t)}else r(l,d);for(u.length=l+1,i=l;i<l+1;i++)u[i]=new Array(d+1);a(l,d)})},addYDZ:function(){$(".button_vertical").click(function(){if(d++,0!=l){var t=0;for(t=0;t<=l;t++)r(t,d)}else r(l,d);for(i=0;i<l+1;i++)u[i].length++;a(l,d)})},deleteXDZ:function(){$(".button_delete_horizontal").click(function(){if(l>0){for(tempCount=0;tempCount<=d;tempCount++)o(l,tempCount);l--,u.length=l+1}a(l,d)})},deleteYDZ:function(){$(".button_delete_vertical").click(function(){if(d>0){for(tempCount=0;tempCount<=l;tempCount++)o(tempCount,d);for(i=0;i<l+1;i++)u[i].length--;d--}a(l,d)})},deleteEls:function(){$(".delete_elements").click(function(){for(var t=$(".selected").length,e=0;e<t;e++)elArr.pop();$(".selected").remove()})},getGridCoordinates:function(){return g},DZHighlight:function(t){$(t.target).addClass("hoverover")},stopDZHighlight:function(t){$(t.target).removeClass("hoverover")},onDropUpdatePos:function(t){var e=$(t.target).attr("data-xCoordDZ"),n=$(t.target).attr("data-yCoordDZ");u[e][n]=1,$(t.draggable).attr("data-xCoordEl",e),$(t.draggable).attr("data-yCoordEl",n),f=0},onLeaveUpdatePos:function(t){if(1==++f){var e=$(t.target).attr("data-xCoordDZ"),n=$(t.target).attr("data-yCoordDZ");u[e][n]=0}}}},function(t,e,n){var r=n(4);n(5);t.exports={init:function(t,e,n){!function(t,e,n){$("body").on("click",".dropzone",function(r){if(0!=o){var a=$(event.target).attr("data-xCoordDZ"),i=$(event.target).attr("data-yCoordDZ");!function(t,e,n,r,o,a){var i=parseInt($(t.target).css("left")),s=parseInt($(t.target).css("top")),c=r*o/4,l=d3.select("svg"),d=d3.symbol().type(d3.symbolSquare).size(c);a.push({x:r/2,y:o/2,test:"test data"});l.selectAll().data([{x:r/2,y:o/2,test:"test data"}]).enter().append("path").attr("d",d).attr("fill","black").attr("stroke","#000").attr("stroke-width",1).attr("transform",function(t){return"translate("+(i+o/2)+", "+(s+r/2)+")"}).attr("class","draggable").attr("id","tmp").attr("data-x",i+o/2).attr("data-y",s+r/2);var u=d3.select("#tmp").node().getBBox(),f=u.x+u.width/2,g=u.y+u.height/2,p=document.getElementById("tmp"),h=(parseFloat(p.getAttribute("data-x"))||0)-f,m=(parseFloat(p.getAttribute("data-y"))||0)-g;p.style.webkitTransform=p.style.transform="translate("+h+"px, "+m+"px)",p.setAttribute("data-x",h),p.setAttribute("data-y",m),$("#tmp").removeAttr("id"),p.setAttribute("data-xCoordEl",e),p.setAttribute("data-yCoordEl",n)}(r,a,i,t,e,n)}else o=!0})}(t,e,n),$("body").on("mousedown mouseup",function(t){if(!$(t.target).is("button")&&-1==t.target.getAttribute("class").indexOf("draggable"))if(0==t.shiftKey){var e=$(".selected");if(e.length>=1){o=!1;for(var n=0;n<e.length;n++)$(e[n]).removeClass("selected"),$(e[n]).attr("stroke","black")}}else o=!1})},dragMove:function(t){console.log(t);var e=$(".selected");if(e.length>0){if(-1!=t.target.getAttribute("class").indexOf("selected"))for(var n=e.length,r=0;r<n;r++){var o=(parseFloat(e[r].getAttribute("data-x"))||0)+t.dx,a=(parseFloat(e[r].getAttribute("data-y"))||0)+t.dy;e[r].style.webkitTransform=e[r].style.transform="translate("+o+"px, "+a+"px)",e[r].setAttribute("data-x",o),e[r].setAttribute("data-y",a)}}else t.target&&-1==t.target.getAttribute("class").indexOf("selected")&&($(t.target).addClass("selected"),$(t.target).attr("stroke","red"));$(".elAnchor").remove(),-1==t.target.getAttribute("class").indexOf("dragging")&&$(t.target).addClass("dragging")},toggleSelection:function(t){if(t.shiftKey&&"mouseup"==t.type)-1!=t.target.getAttribute("class").indexOf("selected")?-1==t.target.getAttribute("class").indexOf("dragend")&&($(t.target).removeClass("selected"),$(t.target).attr("stroke","black")):($(t.target).addClass("selected"),$(t.target).attr("stroke","red"));else if("mouseup"==t.type&&t.target){var e=$(".selected");0==$(".selected").length?($(t.target).addClass("selected"),$(t.target).attr("stroke","red")):1==$(".selected").length&&(-1!=t.target.getAttribute("class").indexOf("selected")||($(e[0]).removeClass("selected"),$(e[0]).attr("stroke","black"),$(t.target).addClass("selected"),$(t.target).attr("stroke","red")))}-1!=t.target.getAttribute("class").indexOf("dragend")&&$(t.target).removeClass("dragend")},updateDragEndStates:function(t){$(t.target).removeClass("dragging"),$(t.target).addClass("dragend")},elMouseOver:function(t){$(".elAnchor")[0]&&$("#groupAnchors").remove();var e=parseFloat($(t.target).attr("data-x")),n=parseFloat($(t.target).attr("data-y")),o=t.target.getBBox(),a=(new DOMPoint(t.x,t.y),t.path[1].createSVGPoint());a.x=0,a.y=0;o.x,o.width;var i=o.y+o.height/2;a.y=a.y+i;for(;1!=t.path[0].isPointInStroke(a);)a.x++;var s=d3.select("svg").append("g").attr("id","groupAnchors");s.append("circle").attr("r",4.5).attr("class","elAnchor").attr("id","rightAnchor").attr("fill","red").attr("transform",function(){return"translate("+(e+a.x)+", "+(n+a.y)+")"}),s.append("circle").attr("r",4.5).attr("class","elAnchor").attr("id","leftAnchor").attr("fill","red").attr("transform",function(){return"translate("+(e-a.x)+", "+(n+a.y)+")"}),a.x=0,a.y=0,a.y=a.y+i;for(;1!=t.path[0].isPointInStroke(a);)a.y++;s.append("circle").attr("r",4.5).attr("class","elAnchor").attr("id","bottomAnchor").attr("fill","red").attr("transform",function(){return"translate("+(e+a.x)+", "+(n+a.y)+")"}),a.y=0,a.y=a.y+i;for(;1!=t.path[0].isPointInStroke(a);)a.y--;s.append("circle").attr("r",4.5).attr("class","elAnchor").attr("id","topAnchor").attr("fill","red").attr("point-events","visible").attr("transform",function(){return"translate("+(e+a.x)+", "+(n+a.y)+")"}),$(".elAnchor").on("mousedown mouseup",function(t){"mousedown"==t.type&&t.target&&($("body").disableTextSelect(),r.tempLineCreation()),"mouseup"==t.type&&t.target?($("body").enableTextSelect(),r.lineCreation()):$("body").on("mouseup",function(t){r.onBodyDeleteLine()})}),$(".elAnchor").on("click",function(t){console.log("hi")}).on("mouseout",function(t){null!=t.toElement&&(-1!=t.toElement.getAttribute("class").indexOf("dropzone")&&-1!=t.toElement.getAttribute("class").indexOf("elAnchor")||$("#groupAnchors").remove())})},removeAnchor:function(t){null!=t.toElement&&"elAnchor"!=t.toElement.getAttribute("class")&&$("#groupAnchors").remove()},elMouseOverMenu:function(t){d3.select("svg").append("g").attr("id","menu-holder");(new d3.radialMenu).radius(50).thickness(30).appendTo("#menu-holder").show(a);var e=document.getElementById("menu-holder"),n=(parseFloat(t.target.getAttribute("data-x"))||0)-0,r=(parseFloat(t.target.getAttribute("data-y"))||0)-0;e.style.webkitTransform="translate(300 px, "+r+"px)",e.style.transform="translate("+n+"px, "+r+"px)"},elMouseOutMenu:function(t){d3.select("#menu-holder").remove()}};var o=!0;var a=[{icon:"https://github.com/favicon.ico",action:"segment 1"},{icon:"https://github.com/favicon.ico",action:"segment 2"},{icon:"https://github.com/favicon.ico",action:"segment 3"},{icon:"https://github.com/favicon.ico",action:"segment 4"}]},function(t,e){t.exports={tempLineCreation:function(){var t=$("#object_container").offset(),e=interact.getElementRect(event.target);firstAnchorCenter={x:e.left+e.width/2,y:e.top+e.height/2};var n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("id","line1"),n.setAttribute("fill","none"),n.setAttribute("stroke","black"),n.setAttribute("stroke-width","2"),$("svg").append(n),function(){document.onmousemove=function(e){var r,o,a;null==(e=e||window.event).pageX&&null!=e.clientX&&(r=e.target&&e.target.ownerDocument||document,o=r.documentElement,a=r.body,e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0));var i=firstAnchorCenter.x-t.left,s=firstAnchorCenter.y-t.top,c=(firstAnchorCenter.x-t.left+e.pageX)/2,l=firstAnchorCenter.y-t.top,d=(firstAnchorCenter.x-t.left+e.pageX)/2,u=e.pageY-t.top,f=e.pageX-t.left,g=e.pageY-t.top;$(n).attr("d","M "+i+","+s+" L "+c+","+l+" "+d+","+u+" "+f+","+g)}}()},lineCreation:function(){var t=$("#object_container").offset(),e=interact.getElementRect(event.target);secondAnchorCenter={x:e.left+e.width/2,y:e.top+e.height/2};var n=firstAnchorCenter.x-t.left,r=firstAnchorCenter.y-t.top,o=(firstAnchorCenter.x-t.left+(secondAnchorCenter.x-t.left))/2,a=firstAnchorCenter.y-t.top,i=(firstAnchorCenter.x-t.left+(secondAnchorCenter.x-t.left))/2,s=secondAnchorCenter.y-t.top,c=secondAnchorCenter.x-t.left,l=secondAnchorCenter.y-t.top,d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("id","line2"),d.setAttribute("fill","none"),d.setAttribute("stroke","black"),d.setAttribute("stroke-width","2"),d.setAttribute("d","M "+n+","+r+" L "+o+","+a+" "+i+","+s+" "+c+","+l),$("svg").append(d),$("#line1").remove()},onBodyDeleteLine:function(){$("#line1").remove()}}},function(t,e){d3.radialMenu=function(){if(!(this instanceof d3.radialMenu))return new d3.radialMenu;var t,e,n,r=[{}],o=1,a=50,i=20,s=16,c=250,l=function(t){alert(t)},d=-180/r.length,u={};function f(t){var e=t.startAngle+(t.endAngle-t.startAngle)/2,n=a+i/2;return{x:n*Math.sin(e),y:-n*Math.cos(e)}}return u.onClick=function(t){return arguments.length?(l=t,u):l},u.animationDuration=function(t){return arguments.length?(c=t,u):c},u.padding=function(t){return arguments.length?(o=t,u):o},u.iconSize=function(t){return arguments.length?(s=t,u):s},u.radius=function(t){return arguments.length?(a=t,e.innerRadius(a),e.outerRadius(a+i),u):a},u.thickness=function(t){return arguments.length?(i=t,e.outerRadius(a+i),u):i},u.appendTo=function(t){return t=d3.select(t),n=t.append("g").attr("transform","rotate("+d+")"),u},u.show=function(o){d=-180/(r=o).length,n.attr("transform","rotate("+d+")");var i=n.selectAll(".menu-segment-container").data(t(r));i.select(".menu-segment").transition().duration(c).attrTween("d",function(t){var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return e(n(t))}}),i.select(".menu-icon").transition().attr("x",function(t){return f(t).x-s/2}).attr("y",function(t){return f(t).y-s/2}).attr("transform",function(t){var e=f(t);return"rotate("+-d+","+e.x+","+e.y+")"});var l=i.enter().append("g").attr("class","menu-segment-container");return l.append("path").attr("class","menu-segment").each(function(t){this._current=t}).on("click",function(t){alert(t.data.action)}).transition().duration(c).attrTween("d",function(t){var n=d3.interpolate(0,a),r=d3.interpolate(0,e.outerRadius()());return function(o){return e.innerRadius(n(o)).outerRadius(r(o))(t)}}),l.append("image").attr("class","menu-icon").attr("xlink:href",function(t){return t.data.icon}).attr("width",s).attr("height",s).attr("x",function(t){return f(t).x-s/2}).attr("y",function(t){return f(t).y-s/2}).attr("transform",function(t){var e=f(t);return"rotate("+-d+","+e.x+","+e.y+")"}).style("opacity",0).transition().delay(c).style("opacity",1),i.exit().remove(),u},u.hide=function(){var r=n.selectAll(".menu-segment-container").data(t([])).exit();return r.select(".menu-icon").style("opacity",1).transition().delay(c).style("opacity",0),r.select("path").transition().delay(c).duration(c).attrTween("d",function(t){var n=d3.interpolate(a,0),r=d3.interpolate(e.outerRadius()(),0);return function(o){return e.innerRadius(n(o)).outerRadius(r(o))(t)}}).each("end",function(t){r.remove()}),u},t=d3.pie().value(function(t){return r.length}).padAngle(o*Math.PI/180),e=d3.arc().innerRadius(a).outerRadius(a+i),u}},function(t,e){t.exports={disableTextWrapper:function(){jQuery.fn.disableTextSelect=function(){return this.each(function(){$(this).css({MozUserSelect:"none",webkitUserSelect:"none"}).attr("unselectable","on").bind("selectstart",function(){return!1})})}},enableTextWrapper:function(){jQuery.fn.enableTextSelect=function(){return this.each(function(){$(this).css({MozUserSelect:"",webkitUserSelect:""}).attr("unselectable","off").unbind("selectstart")})}}}}]);